{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}

{% block content %}
<div class="ui text container">
  <h1>Hello {% if not (current_user.is_authenticated) %} world {% else %} {{ current_user.full_name() }} {% endif %},
  </h1>

  <div class="ui stackable centered grid container">
    <div class="twelve wide column">
      <a class="ui basic compact button" href="{{ url_for('admin.index') }}">
        <i class="caret left icon"></i>
        Back to dashboard
      </a>
      <h2 class="ui header">
        Add New User
        <div class="sub header">Create a new user account</div>
      </h2>
  
      {% set flashes = {
      'error': get_flashed_messages(category_filter=['form-error']),
      'warning': get_flashed_messages(category_filter=['form-check-email']),
      'info': get_flashed_messages(category_filter=['form-info']),
      'success': get_flashed_messages(category_filter=['form-success'])
      } %}
  
      {{ f.begin_form(form, flashes) }}
  
      {{ f.render_form_field(form.file) }}
  
      {{ f.render_form_field(form.submit) }}

      {{ f.end_form() }}
    </div>
  </div>
</div>
{% endblock %}